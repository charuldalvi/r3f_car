/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, { useEffect, useRef } from "react";
import * as THREE from "three";
import { FlakesTexture } from "three/examples/jsm/textures/FlakesTexture.js";
import { useGLTF, useTexture } from "@react-three/drei";
import { useFrame } from "@react-three/fiber";
import { useStore } from "./stateManagement";
import gsap from "gsap";

// Assets
import logo from "./assets/BMWLogo.jpg";

export default function Model({metalness, roughness, props}) {
  const group = useRef();
  const frontLeftTire = useRef();
  const backLeftTire = useRef();
  const frontRightTire = useRef();
  const backRightTire = useRef();
  const leftDoor = useRef();
  const { nodes, materials } = useGLTF("/src/bmw_i8.glb");

  const isInteriorClicked = useStore((state) => state.isInteriorClicked);
  const primaryColor = useStore((state) => state.primaryColor);
  const secondaryColor = useStore((state) => state.secondaryColor);
  const controlsColor = useStore((state) => state.controlsColor);
  const topControls = useStore((state) => state.topControls);
  const headSeat = useStore((state) => state.headSeat);
  const leatherSewing = useStore((state) => state.leatherSewing);
  const backSeat = useStore((state) => state.backSeat);

  useEffect(() => {
    isInteriorClicked == true
      ? gsap.to(leftDoor.current.rotation, {
          x: -1.7446311,
          y: -0.8133234,
          z: -0.5077163,
          ease: "Power4.out",
          duration: 1,
        })
      : gsap.to(leftDoor.current.rotation, {
          x: 0,
          y: 0,
          z: 0,
          ease: "Power4.in",
          duration: 1,
          delay: 1.5,
        });
  }, [isInteriorClicked, leftDoor.current]);

  useFrame(() => {
    frontLeftTire.current.rotation.z += 0.05;
    backLeftTire.current.rotation.z += 0.05;
    frontRightTire.current.rotation.z += 0.05;
    backRightTire.current.rotation.z += 0.05;
  });

  // Flake Map
  const flakeMap = new THREE.CanvasTexture(new FlakesTexture());
  flakeMap.wrapS = THREE.RepeatWrapping;
  flakeMap.wrapT = THREE.RepeatWrapping;
  flakeMap.repeat.x = 10;
  flakeMap.repeat.y = 10;

  // Logo
  const logoMap = useTexture(logo);

  // Interior Textures
  // const controls = useTexture(controlsColor);
  // const topControl = useTexture(topControls);
  // const controlsBase = useTexture(controlsBaseColor);
  // const upholestry = useTexture(interiorPrimaryColor);
  // const headSeatFabric = useTexture(headSeat);
  const frontLeather = useTexture(leatherSewing);
  // const backLeather = useTexture(backSeat);

  return (
    <group ref={group} {...props} dispose={null} position={[0,2,0]} rotation={[0, Math.PI, 0]}>
      <group scale={0.2}>
        <group position={[-6.01, 8.6, 4.52]}>
          <group position={[6.01, -8.6, -4.52]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape.geometry}
              material={materials.wire_028028177}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape_4.geometry}
              material={materials.Plastic_Metal}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape_6.geometry}
              material={materials.Black_Controls}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape_7.geometry}
              material={nodes.bmw_Stering_geoShape_7.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape_2.geometry}
              material={materials.SteeringWheel}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape_3.geometry}
              material={materials.SteeringWheel2}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape_1.geometry}
              material={nodes.bmw_Stering_geoShape_1.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_Stering_geoShape_5.geometry}
              material={nodes.bmw_Stering_geoShape_5.material}
            />
          </group>
        </group>
        <group position={[-23.61, 7.11, -0.01]}>
          <mesh
            geometry={nodes.FrontBmwLogoPIV.geometry}
            material={nodes.FrontBmwLogoPIV.material}
            position={[23.61, -7.11, 0.01]}
          >
            <meshPhysicalMaterial map={logoMap} map-flipY={false} />
          </mesh>
        </group>
        <group position={[24.5, 8.83, 0]}>
          <mesh
            geometry={nodes.BackBmwLogoPIV.geometry}
            material={nodes.BackBmwLogoPIV.material}
            position={[-24.5, -8.83, 0]}
          />
        </group>
        <group position={[1.83, 3.93, 0]}>
          <group position={[-1.83, -3.93, 0]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BreakCalipar_geoShape.geometry}
              material={materials.Calipar_White_Material}
            >
              <meshPhysicalMaterial color={'white'} />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BreakCalipar_geoShape_1.geometry}
              material={materials.Rim_Metal}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BreakCalipar_geoShape_2.geometry}
              material={materials.Wheel_Tubes}
            >
              <meshPhysicalMaterial color={`#${secondaryColor}`} />
            </mesh>
          </group>
        </group>
        <group position={[0.26, 7.77, -0.5]}>
          <group position={[-0.26, -7.77, 0.5]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape.geometry}
              material={nodes.BmwBody_geoShape.material}
            >
              <meshPhysicalMaterial
                color={`#${secondaryColor}`}
                emissive={`#${secondaryColor}`}
                emissiveIntensity={0.3}
                metalness={metalness}
                roughness={roughness}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_2.geometry}
              material={materials.Roof_Material1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_3.geometry}
              material={materials.Standard_17}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_4.geometry}
              material={nodes.BmwBody_geoShape_4.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_5.geometry}
              material={nodes.BmwBody_geoShape_5.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_6.geometry}
              material={materials.Middle_Back_Led1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_25.geometry}
              material={materials.Inside_Front_Light_Metal1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_26.geometry}
              material={materials.Inside_BackLights1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_7.geometry}
              material={nodes.BmwBody_geoShape_7.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_9.geometry}
              material={materials.Leather_Sewing1}
              material-map={frontLeather}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_27.geometry}
              material={materials.Leather_General_Red5}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_41.geometry}
              material={materials.Belt1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_28.geometry}
              material={materials.Laser_Inside_Bend_Plastic1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_29.geometry}
              material={materials.Plastic_Metal1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_30.geometry}
              material={materials.Glass_Lines_Back}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_31.geometry}
              material={materials.HeadLight_Metal1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_1.geometry}
              material={nodes.BmwBody_geoShape_1.material}
            >
              <meshPhysicalMaterial
                color={`#${primaryColor}`}
                
                metalness={metalness}
                roughness={roughness}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_57.geometry}
              material={materials.AllLigths_Inside_Red1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_8.geometry}
              material={materials.BackSeats1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_32.geometry}
              material={materials.Plastico_Azul1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_10.geometry}
              material={materials.Plastic_Grey_Chrome1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_58.geometry}
              material={materials.TopControls1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_11.geometry}
              material={materials.wire_087224198}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_74.geometry}
              material={materials.SoundDevice4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_12.geometry}
              material={materials.Logo_Aluminium1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_79.geometry}
              material={materials.AllLigths_Inside4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_80.geometry}
              material={materials.wire_143225089}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_33.geometry}
              material={materials.Glass_BackLigh_Stops1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_81.geometry}
              material={materials.Rubber_Black3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_82.geometry}
              material={materials.Black_Shine4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_83.geometry}
              material={nodes.BmwBody_geoShape_83.material}
            >
              <meshPhysicalMaterial
                color={`#${primaryColor}`}
                emissive={`#${primaryColor}`}
                emissiveIntensity={0.2}
                metalness={metalness}
                roughness={roughness}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_84.geometry}
              material={materials.Glass_Windows3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_87.geometry}
              material={materials.wire_143225091}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_13.geometry}
              material={materials.Upholstery4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_14.geometry}
              material={materials.Seal_Grey1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_91.geometry}
              material={nodes.BmwBody_geoShape_91.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_15.geometry}
              material={materials.Seats_Leather1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_16.geometry}
              material={materials.Rubber_Black4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_17.geometry}
              material={materials.Plain_Leather5}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_18.geometry}
              material={materials.MULTI_Green_Led2}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_19.geometry}
              material={materials.MULTI_Green_Led}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_20.geometry}
              material={materials.Plastic_Glass_Lines_Bend1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_21.geometry}
              material={materials.Plastic_Glass1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_46.geometry}
              material={nodes.BmwBody_geoShape_46.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_49.geometry}
              material={materials.BackLight_Rear1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_34.geometry}
              material={materials.Grey_Plastic_Shine6}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_35.geometry}
              material={materials.LogoFrontBackStering_mat}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_36.geometry}
              material={materials.Glass_Windows}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_37.geometry}
              material={materials.Protonic1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_50.geometry}
              material={materials.Black_Parts1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_22.geometry}
              material={materials.Logo_Chromo_Satin1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_39.geometry}
              material={materials.Full_Black1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_40.geometry}
              material={materials.Plastic_Blue1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_23.geometry}
              material={materials.Inside_Led_TailLight1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_51.geometry}
              material={materials.Belt_Metal_Click1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_42.geometry}
              material={materials.Glass_Bulb_Lights1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_43.geometry}
              material={materials.E_Logo1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_24.geometry}
              material={materials.Head_Seat_Fabric1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_54.geometry}
              material={materials.Aluminum_Master1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_63.geometry}
              material={materials.PRotonicFinal1}
            >
              <meshPhysicalMaterial
                color={`#${secondaryColor}`}
                emissive={`#${secondaryColor}`}
                emissiveIntensity={0.3}
                metalness={metalness}
                roughness={roughness}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_44.geometry}
              material={materials.Carpet_Outline1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_70.geometry}
              material={materials.SoundDevice5}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_75.geometry}
              material={materials.Grey_Plastic_Shine4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_76.geometry}
              material={nodes.BmwBody_geoShape_76.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_38.geometry}
              material={materials.Carpet1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_60.geometry}
              material={materials.Roof_Light_Glass1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_61.geometry}
              material={materials.RoofLight1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_62.geometry}
              material={materials.Panel_Led1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_64.geometry}
              material={materials.Leather_Beige1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_66.geometry}
              material={materials.Light_Rear1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_67.geometry}
              material={materials.Carbon_Fiber1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_77.geometry}
              material={materials.wire_143225090}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_71.geometry}
              material={materials.Plain_Leather4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_72.geometry}
              material={materials.Leather_General_Red4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_78.geometry}
              material={nodes.BmwBody_geoShape_78.material}
            >
              <meshPhysicalMaterial
                color={`#${primaryColor}`}
               
                metalness={metalness}
                roughness={roughness}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_73.geometry}
              material={materials.Upholstery5}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_88.geometry}
              material={materials.MULTI_Green_Led1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_89.geometry}
              material={materials.Panel_Led2}
            >
              
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_90.geometry}
              material={materials.Grey_Plastic_Shine5}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_92.geometry}
              material={materials.Controls4}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_97.geometry}
              material={nodes.BmwBody_geoShape_97.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.RightDoorButton_geo.geometry}
              material={nodes.RightDoorButton_geo.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_45.geometry}
              material={materials.Black_Shine5}
            >
              <meshPhysicalMaterial
                color={"#000000"}
                metalness={metalness}
                roughness={0.5}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_47.geometry}
              material={materials.BackLight_Plastic1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_48.geometry}
              material={materials.Black_Controls6}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_52.geometry}
              material={materials.Back_Red_Light_BackGround1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_53.geometry}
              material={materials.Back_Led_Down1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_55.geometry}
              material={materials.AllLigths_Inside5}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_56.geometry}
              material={materials.FBXASC0482_CAR_BLACK_COLOR1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_59.geometry}
              material={materials.wire_143225092}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_65.geometry}
              material={materials.E_Logo_Metal1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_68.geometry}
              material={materials.UpMirror}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_69.geometry}
              material={nodes.BmwBody_geoShape_69.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_85.geometry}
              material={materials.Black_Controls5}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_86.geometry}
              material={nodes.BmwBody_geoShape_86.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_93.geometry}
              material={nodes.BmwBody_geoShape_93.material}
            >
              <meshPhysicalMaterial
                color={`#${secondaryColor}`}
                emissive={`#${secondaryColor}`}
                emissiveIntensity={0.3}
                metalness={metalness}
                roughness={roughness}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_94.geometry}
              material={materials.Grey_Normal1}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_95.geometry}
              material={nodes.BmwBody_geoShape_95.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_96.geometry}
              material={nodes.BmwBody_geoShape_96.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.BmwBody_geoShape_98.geometry}
              material={nodes.BmwBody_geoShape_98.material}
            />
          </group>
        </group>
        <group ref={leftDoor} position={[-9.79, 8.34, 9.15]}>
          <group position={[9.79, -8.34, -9.15]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_6.geometry}
              material={nodes.LeftDoor_geoShape_6.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_7.geometry}
              material={materials.Glass_Windows2}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_8.geometry}
              material={materials.Black_Shine3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_12.geometry}
              material={nodes.LeftDoor_geoShape_12.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape.geometry}
              material={materials.SoundDevice3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_3.geometry}
              material={materials.Upholstery3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_5.geometry}
              material={materials.FBXASC0481_CAR_COPPER_COLOR3}
            >
              <meshPhysicalMaterial
                color={`#${primaryColor}`}
                metalness={metalness}
                roughness={roughness}
                clearcoatRoughness={0.1}
                clearcoat={1}
                envMapIntensity={0.8}
                normalMap={flakeMap}
                normalScale={[0.02, 0.02]}
              />
            </mesh>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_11.geometry}
              material={materials.Black_Controls3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_1.geometry}
              material={nodes.LeftDoor_geoShape_1.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_2.geometry}
              material={nodes.LeftDoor_geoShape_2.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_4.geometry}
              material={materials.Plain_Leather3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_9.geometry}
              material={materials.Grey_Plastic_Shine3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_10.geometry}
              material={materials.Leather_General_Red3}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.LeftDoor_geoShape_13.geometry}
              material={materials.AllLigths_Inside3}
            />
          </group>
        </group>
        <group ref={backLeftTire} position={[15.16, 3.98, 9.23]}>
          <group position={[-15.16, -3.98, -9.23]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape_2.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape_2.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape_3.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape_3.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape_4.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape_4.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape_6.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape_6.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape_5.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape_5.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape_1.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape_1.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftBackWheel_geoShape_7.geometry}
              material={nodes.bmw_LeftBackWheel_geoShape_7.material}
            />
          </group>
        </group>
        <group ref={frontLeftTire} position={[-14.46, 3.98, 8.45]}>
          <group position={[14.46, -3.98, -8.45]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape_1.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape_1.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape_2.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape_2.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape_3.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape_3.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape_7.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape_7.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape_4.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape_4.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape_5.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape_5.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_LeftFrontWheel_geoShape_6.geometry}
              material={nodes.bmw_LeftFrontWheel_geoShape_6.material}
            />
          </group>
        </group>
        <group ref={backRightTire} position={[15.16, 3.97, -9.24]}>
          <group position={[-15.16, -3.97, 9.24]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape_5.geometry}
              material={nodes.bmw_RightBackWheel_geoShape_5.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape.geometry}
              material={nodes.bmw_RightBackWheel_geoShape.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape_1.geometry}
              material={nodes.bmw_RightBackWheel_geoShape_1.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape_4.geometry}
              material={nodes.bmw_RightBackWheel_geoShape_4.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape_2.geometry}
              material={nodes.bmw_RightBackWheel_geoShape_2.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape_3.geometry}
              material={nodes.bmw_RightBackWheel_geoShape_3.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape_6.geometry}
              material={nodes.bmw_RightBackWheel_geoShape_6.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightBackWheel_geoShape_7.geometry}
              material={nodes.bmw_RightBackWheel_geoShape_7.material}
            />
          </group>
        </group>
        <group ref={frontRightTire} position={[-14.46, 3.98, -8.48]}>
          <group position={[14.46, -3.98, 8.48]}>
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape_1.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape_1.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape_5.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape_5.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape_7.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape_7.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape_3.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape_3.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape_6.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape_6.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape_2.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape_2.material}
            />
            <mesh
              castShadow
              receiveShadow
              geometry={nodes.bmw_RightFrontWheel_geoShape_4.geometry}
              material={nodes.bmw_RightFrontWheel_geoShape_4.material}
            />
          </group>
        </group>
      </group>
    </group>
  );
}

useGLTF.preload("/src/bmw_i8.glb");
